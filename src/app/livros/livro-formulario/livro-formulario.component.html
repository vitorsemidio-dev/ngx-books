<h2>
  {{ livro.id ? 'Editar livro' : 'Cadastrar um novo livro' }}
</h2>

<form class="formulario-livro" autocomplete="off" [formGroup]="formulario">
  <fieldset class="formulario-imagem-container">
    <div class="preview-image-container">
      <img [src]="previewImg" />
    </div>

    <label class="label-imagem-container" for="imagem">
      <img [src]="'assets/ant-design_camera-outlined.svg'" />
      <input
        type="file"
        name="image"
        id="imagem"
        (change)="onImagemSelecionada($event)"
      />
    </label>
  </fieldset>

  <fieldset>
    <div class="form-group">
      <label for="nome">Nome</label>
      <input
        class="form-control"
        [ngClass]="aplicarClasseCssFeedback('name')"
        [id]="'nome'"
        placeholder="Informe nome do livro"
        formControlName="name"
        [autocomplete]="'off'"
      />
      <app-msg-error
        [control]="formulario.get('name')"
        [label]="'Nome do livro'"
      >
      </app-msg-error>
    </div>
    <div class="form-group">
      <label for="autor">Autor</label>
      <input
        class="form-control"
        [ngClass]="aplicarClasseCssFeedback('author')"
        [id]="'autor'"
        [placeholder]="'Informe nome do autor do livro'"
        [autocomplete]="'off'"
        formControlName="author"
      />
      <app-msg-error
        [control]="formulario.get('author')"
        [label]="'Nome do autor'"
      >
      </app-msg-error>
    </div>
    <div class="form-group">
      <label for="paginas">Páginas</label>
      <input
        type="number"
        class="form-control"
        [ngClass]="aplicarClasseCssFeedback('pages')"
        [id]="'paginas'"
        [placeholder]="'Informe a quantidade de páginas'"
        formControlName="pages"
      />
      <app-msg-error
        [control]="formulario.get('pages')"
        [label]="'Páginas'"
      ></app-msg-error>
    </div>
    <div class="form-group">
      <label for="quantidade">Quantidade</label>
      <input
        type="number"
        class="form-control"
        [ngClass]="aplicarClasseCssFeedback('quantity')"
        [id]="'quantidade'"
        [placeholder]="'Informe a quantidade disponível'"
        formControlName="quantity"
      />

      <app-msg-error
        [control]="formulario.get('quantity')"
        [label]="'Quantidade'"
      >
      </app-msg-error>
    </div>
    <footer class="formulario-footer">
      <button
        class="btn btn-outline-secondary"
        type="button"
        (click)="onCancelar()"
      >
        Cancelar
      </button>
      <button class="btn btn-primary" (click)="onSubmit()">Salvar</button>
    </footer>
  </fieldset>
</form>
